### Дипломный проект

#### Сервис агрегирования и хранения данных о выполнении студентом учебных заданий

#### Задание:
Сервис обеспечивает хранение данных о выполнении студентом учебных заданий. 
Имеется спектр возможных для обучения навыков. 
 
Для каждого задания задаётся распределение спектра навыков с долями 
(например, задание «диалог с преподавателем на английском языке» тренирует навык говорения на 70% и навык аудирования на 30%). 
 
Задание оценивается в баллах в некотором диапазоне (например, от 1 до 10), баллы распределяются по навыкам пропорционально. 
Задания группируются в занятия, занятия группируются в курсы (также возможны промежуточные уровни: например, модули внутри курса). 
 
Сервис должен решать следующие задачи:
    • Хранение баллов за каждое задание
    • Агрегация баллов за задания по занятиям и навыкам
    • Агрегация баллов по времени
    • Агрегация баллов по курсам (и промежуточным уровням, при наличии)
    • Выдача ачивок за выполнение различных условий (например, «все задания в занятии выполнены на 10 баллов», 
      «доля оценок выше 9 больше 90%» и т.п.)
Сохранение баллов должно выполняться в асинхронном режиме. Необходимо продумать схему кэширования агрегированных данных.
Опционально: продумать GraphQL-реализацию API для получения агрегации.

#### Преподаватели курса:
- Пряхин Александр
- Никонов Василий
- Каморин Михаил (skyeng)

#### Ссылки:
0. Страница с общей информацией, вопросы преподавателям, заметки итд  
    https://docs.google.com/spreadsheets/d/1S3vCV79_zUg5yRz9bXky7n8r-vas12296Tua1W9s43M/edit#gid=0
    
0. Страница с диаграммой:  
    https://app.diagrams.net/#G1GZzpuqbQdKsD4EXMr9Km1-CUI6Or4iWR
    
0. Страница от Пряхина Александра со всеми заданиями:  
    https://docs.google.com/spreadsheets/d/1f-2ZjzIAv2L16Mey_Er2QQSyFRnecdDb2H6hQvvzPFs/edit#gid=0
    
0. Страница с рисунком (устарела, не пользуемся):  
    https://docs.google.com/drawings/d/12Dyp8KUmaeWbuJJbmhBddYAdOWEoVTOgsBJ9of99BXQ/edit
    
0. Канал в Слаке:  
    otus-diplom-student-progress


---
КОНФИГУРАЦИЯ И ЗАПУСК:
- конфигурацию контейнеров производить тут:
    0. переименовать файл .env.example в .env, указать реальные пути к проекту (локально), user-password для БД
    0. /docker/nginx.conf/nginx.conf:  
        - server_name - имя сайта в браузере
        - прописать в hosts (Windows\System32\drivers\etc): 127.0.0.1 site.local - то, что указано в server_name
    0. docker\postgres\docker-entrypoint-initdb.d - отработает при запуске postgres
    0. docker\mysql\docker-entrypoint-initdb.d\init.sql - отработает при запуске mysql (создание БД, заполнение итд)

- в папке /docker запустить контейнеры:
    > docker-compose up -d --build main pgs  
    в дальнейшем, если не менять конфигурацию можно писать так:  
    > docker-compose up -d
- войти в контейнер php:
    > docker-compose exec php bash
- подтянуть зависимости:
    > composer update  
        or  
    > composer install  



---
СТРУКТУРА ПАПОК:
- docker (контейнеры: php, nginx, mysql. и все для их запуска)
- mysql (файлы БД. Эта папка появится после запуска контейнеров и создания БД)
- site.local (сам проект, корневая папка для nginx),  
    развернут Ларавел  
    - public/ (здесь находится index.php)
    - vendor/ (появится после подтягивания зависимостей)

---
ПРОЧЕЕ ДОКУ:

Phinx  
https://sergeivl.ru/phinx-migration.html (простой старт)  
https://github.com/cakephp/phinx (доку от разрабов)  

Faker  
https://github.com/fzaninotto/Faker  

